/* ==================================== */
/* 1. LIBRERIA SKILL E GLOBALI          */
/* ==================================== */

/* ==================================== */
/* 1. LIBRERIA SKILL E GLOBALI          */
/* ==================================== */

const defaultImgBase64 = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZnVd99+AAAAEHRSTlMA////f39/f39/f39/f39/f39/tX/mBAAAAAlwSFlzAAAOwgAADsIBFShKgAAAADZJREFUeNrtwQEBAAAAgiD7pdkzBAAAAAAAAAAAADeYmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZc39fOAAHfgABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAACAvwAEAAAAAA==';



const skillLibrary = {

    'react': { name: 'React', icon: 'devicon-react-original', color: '#61DAFB' },

    'node': { name: 'Node.js', icon: 'devicon-nodejs-plain', color: '#68A063' },

    'python': { name: 'Python', icon: 'devicon-python-plain', color: '#3776AB' },

    'javascript': { name: 'JavaScript', icon: 'devicon-javascript-plain', color: '#F7DF1E' },

    'typescript': { name: 'TypeScript', icon: 'devicon-typescript-plain', color: '#3178C6' },

    'html': { name: 'HTML5', icon: 'devicon-html5-plain', color: '#E34F26' },

    'css': { name: 'CSS3', icon: 'devicon-css3-plain', color: '#1572B6' },

    'java': { name: 'Java', icon: 'devicon-java-plain', color: '#f89820' },

    'c': { name: 'C', icon: 'devicon-c-plain', color: '#A8B9CC' },

    'c++': { name: 'C++', icon: 'devicon-cplusplus-plain', color: '#00599C' },

    'rust': { name: 'Rust', icon: 'devicon-rust-plain', color: '#E03C2A' },

    'go': { name: 'Go', icon: 'devicon-go-plain', color: '#00ADD8' },

    'php': { name: 'PHP', icon: 'devicon-php-plain', color: '#777BB4' },

    'ruby': { name: 'Ruby', icon: 'devicon-ruby-plain', color: '#CC342D' },

    'swift': { name: 'Swift', icon: 'devicon-swift-plain', color: '#F05138' },

    'next.js': { name: 'Next.js', icon: 'devicon-nextjs-plain', color: '#000000' },

    'angular': { name: 'Angular', icon: 'devicon-angularjs-plain', color: '#DD0031' },

    'django': { name: 'Django', icon: 'devicon-django-plain', color: '#092E20' },

    'flask': { name: 'Flask', icon: 'devicon-flask-original', color: '#000000' },

    'express': { name: 'Express', icon: 'devicon-express-original', color: '#000000' },

    'tailwind': { name: 'Tailwind', icon: 'devicon-tailwindcss-plain', color: '#06B6D4' },

    'supabase': { name: 'Supabase', icon: 'devicon-supabase-plain', color: '#3ECF8E' },

    'postgresql': { name: 'PostgreSQL', icon: 'devicon-postgresql-plain', color: '#336791' },

    'mysql': { name: 'MySQL', icon: 'devicon-mysql-plain', color: '#4479A1' },

    'mongodb': { name: 'MongoDB', icon: 'devicon-mongodb-plain', color: '#47A248' },

    'redis': { name: 'Redis', icon: 'devicon-redis-plain', color: '#DC382D' },

    'docker': { name: 'Docker', icon: 'devicon-docker-plain', color: '#2496ED' },

    'aws': { name: 'AWS', icon: 'devicon-amazonwebservices-plain-wordmark', color: '#FF9900' },

    'gcp': { name: 'GCP', icon: 'devicon-googlecloud-plain', color: '#4285F4' },

    'vercel': { name: 'Vercel', icon: 'devicon-vercel-plain', color: '#000000' },

    'github': { name: 'GitHub', icon: 'devicon-github-original', color: '#181717' },

    'figma': { name: 'Figma', icon: 'devicon-figma-plain', color: '#F24E1E' },

    'linux': { name: 'Linux', icon: 'devicon-linux-plain', color: '#FCC624' },

    'firebase': { name: 'Firebase', icon: 'devicon-firebase-plain', color: '#FFCA28' },

    'flutter': { name: 'Flutter', icon: 'devicon-flutter-plain', color: '#02569B' },

    'kotlin': { name: 'Kotlin', icon: 'devicon-kotlin-plain', color: '#0095D5' },

    'Full Stack': { name: 'Full Stack', icon: 'fas fa-layer-group', color: '#6f42c1' },

    'Backend': { name: 'Backend', icon: 'fas fa-server', color: '#28a745' },

    'Frontend': { name: 'Frontend', icon: 'fas fa-desktop', color: '#17a2b8' },

    'DevOps': { name: 'DevOps', icon: 'fas fa-cogs', color: '#fd7e14' },

    'UI/UX': { name: 'UI/UX', icon: 'fas fa-pencil-ruler', color: '#e83e8c' },

    'Data Science': { name: 'Data Science', icon: 'fas fa-database', color: '#20c997' },

    'Machine Learning': { name: 'Machine Learning', icon: 'fas fa-robot', color: '#6610f2' },

    'Mobile': { name: 'Mobile', icon: 'fas fa-mobile-alt', color: '#fd7e14' },

    'Game Dev': { name: 'Game Dev', icon: 'fas fa-gamepad', color: '#ffc107' },

    'Cybersecurity': { name: 'Cybersecurity', icon: 'fas fa-shield-alt', color: '#dc3545' },

    'Blockchain': { name: 'Blockchain', icon: 'fas fa-link', color: '#6f42c1' },

    'AI': { name: 'AI', icon: 'fas fa-brain', color: '#20c997' },

    'Cloud': { name: 'Cloud', icon: 'fas fa-cloud', color: '#17a2b8' },

    'IoT': { name: 'IoT', icon: 'fas fa-network-wired', color: '#fd7e14' },



};

const socialLibrary = {
    'github': { name: 'GitHub', icon: 'fab fa-github', placeholder: 'https://github.com/yourname', format: (val) => val },
    'linkedin': { name: 'LinkedIn', icon: 'fab fa-linkedin', placeholder: 'https://linkedin.com/in/yourname', format: (val) => val },
    'twitter': { name: 'Twitter/X', icon: 'fab fa-twitter', placeholder: 'https://twitter.com/yourname', format: (val) => val },
    'email': { name: 'Email', icon: 'fas fa-envelope', placeholder: 'your@email.com', format: (val) => `mailto:${val}` },
};

const allThemes = [
    'theme-classic', 'theme-dark', 'theme-minimal', 'theme-cyberpunk',
    'theme-retro', 'theme-corporate', 'theme-glass', 'theme-sketch',
    'theme-ide', 'theme-calm', 'theme-neubrutalism',
    'theme-ocean', 'theme-material', 'theme-solarized'
];

const allPageThemes = [
    'theme-classic-page', 'theme-dark-page', 'theme-minimal-page', 'theme-cyberpunk-page',
    'theme-retro-page', 'theme-corporate-page', 'theme-glass-page', 'theme-sketch-page',
    'theme-ide-page', 'theme-calm-page', 'theme-neubrutalism-page',
    'theme-ocean-page', 'theme-material-page', 'theme-solarized-page'
];

const MAX_SKILLS = 15;
let selectedSkills = [];
let socialData = {}; 


/* ==================================== */
/* 2. LOGICA FOTO & API                 */
/* ==================================== */

async function setRandomAvatar() {
    const cardImg = document.getElementById('card-img');
    try {
        cardImg.style.opacity = '0.5';
        const response = await fetch('https://randomuser.me/api/');
        const data = await response.json();
        cardImg.src = data.results[0].picture.large;
        cardImg.onload = () => { cardImg.style.opacity = '1'; };
    } catch (error) {
        console.log("Errore API, uso fallback");
        cardImg.src = `https://api.dicebear.com/7.x/avataaars/svg?seed=${Math.random()}`;
        cardImg.style.opacity = '1';
    }
}


function createSkillElement(skillKey) {
    const skillData = skillLibrary[skillKey];
    const li = document.createElement('li');
    li.className = `skill-${skillKey}`;
    const icon = document.createElement('i');
    if (skillData) {
        icon.className = skillData.icon;
        if (!icon.className.includes('colored')) {
            icon.style.color = skillData.color;
        }
    } else {
        icon.className = 'fas fa-question-circle';
        icon.style.color = '#ccc';
    }
    const span = document.createElement('span');
    span.textContent = skillData ? skillData.name : skillKey;
    li.appendChild(icon);
    li.appendChild(span);
    return li;
}

function renderSelectedSkills() {
    const skillListElement = document.getElementById('card-skill-list');
    const previewElement = document.getElementById('selected-skills-preview');
    const counterElement = document.getElementById('skill-counter');
    
    skillListElement.innerHTML = '';
    previewElement.innerHTML = '';

    if (selectedSkills.length === 0) {
        previewElement.innerHTML = '<p class="skills-placeholder">Click \'Add Skills\' to start...</p>';
    } else {
        selectedSkills.forEach(skillKey => {
            skillListElement.appendChild(createSkillElement(skillKey));
            const previewPill = createSkillElement(skillKey);
            previewPill.classList.add('skill-pill-preview');
            previewElement.appendChild(previewPill);
        });
    }
    counterElement.textContent = `(${selectedSkills.length} / ${MAX_SKILLS})`;
}

function updateSkillDrawerUI() {
    const allPills = document.querySelectorAll('#skills-grid .skill-pill');
    const atMax = selectedSkills.length >= MAX_SKILLS;
    allPills.forEach(pill => {
        const skillKey = pill.dataset.skill;
        const isSelected = selectedSkills.includes(skillKey);
        if (isSelected) {
            pill.classList.add('selected');
            pill.classList.remove('disabled');
        } else if (atMax) {
            pill.classList.add('disabled');
            pill.classList.remove('selected');
        } else {
            pill.classList.remove('selected');
            pill.classList.remove('disabled');
        }
    });
}

function toggleSkill(skillKey) {
    const isSelected = selectedSkills.includes(skillKey);
    if (isSelected) {
        selectedSkills = selectedSkills.filter(s => s !== skillKey);
    } else {
        if (selectedSkills.length < MAX_SKILLS) {
            selectedSkills.push(skillKey);
        } else {
            alert('Hai raggiunto il limite massimo di 15 skill.');
        }
    }
    renderSelectedSkills();
    updateSkillDrawerUI();
}

function populateSkillsDrawer() {
    const grid = document.getElementById('skills-grid');
    grid.innerHTML = '';
    Object.keys(skillLibrary).forEach(skillKey => {
        const skillData = skillLibrary[skillKey];
        const pill = document.createElement('button');
        pill.className = 'skill-pill';
        pill.dataset.skill = skillKey;
        pill.type = 'button';
        const icon = document.createElement('i');
        icon.className = skillData.icon;
        if (!icon.className.includes('colored')) {
            icon.style.color = skillData.color;
        }
        const span = document.createElement('span');
        span.textContent = skillData.name;
        pill.appendChild(icon);
        pill.appendChild(span);
        pill.addEventListener('click', () => toggleSkill(skillKey));
        grid.appendChild(pill);
    });
}

function setupSkillsDrawerTogge() {
    const toggleBtn = document.getElementById('toggle-skills-drawer');
    const drawer = document.getElementById('skills-drawer');
    toggleBtn.addEventListener('click', () => {
        const isOpen = !drawer.classList.contains('hidden');
        if (isOpen) {
            drawer.classList.add('hidden');
            toggleBtn.classList.remove('open');
            toggleBtn.innerHTML = '<i class="fas fa-plus"></i> Add / Remove Skills';
        } else {
            drawer.classList.remove('hidden');
            toggleBtn.classList.add('open');
            toggleBtn.innerHTML = '<i class="fas fa-times"></i> Close Drawer';
        }
    });
}

function renderSocials() {
    const socialContainer = document.getElementById('card-template').querySelector('.card-socials');
    socialContainer.innerHTML = ''; 
    Object.keys(socialData).forEach(key => {
        const value = socialData[key];
        if (value) { 
            const details = socialLibrary[key];
            const link = document.createElement('a');
            link.id = `card-${key}`;
            link.href = details.format(value);
            link.setAttribute('aria-label', details.name);
            link.setAttribute('target', '_blank'); 
            const icon = document.createElement('i');
            icon.className = details.icon;
            link.appendChild(icon);
            socialContainer.appendChild(link);
        }
    });
}

function populateSocialsDrawer() {
    const drawer = document.getElementById('socials-drawer');
    drawer.innerHTML = '';
    Object.keys(socialLibrary).forEach(key => {
        const details = socialLibrary[key];
        const group = document.createElement('div');
        group.className = 'social-input-group';
        const label = document.createElement('label');
        label.htmlFor = `input-${key}`;
        label.innerHTML = `<i class="${details.icon}"></i> ${details.name}:`;
        const input = document.createElement('input');
        input.type = 'text';
        input.id = `input-${key}`;
        input.placeholder = details.placeholder;
        input.addEventListener('input', (e) => {
            socialData[key] = e.target.value; 
            renderSocials(); 
        });
        group.appendChild(label);
        group.appendChild(input);
        drawer.appendChild(group);
    });
}

function setupSocialsDrawerToggle() {
    const toggleBtn = document.getElementById('toggle-socials-drawer');
    const drawer = document.getElementById('socials-drawer');
    toggleBtn.addEventListener('click', () => {
        const isOpen = !drawer.classList.contains('hidden');
        if (isOpen) {
            drawer.classList.add('hidden');
            toggleBtn.classList.remove('open');
            toggleBtn.innerHTML = '<i class="fas fa-plus"></i> Add / Edit Socials';
        } else {
            drawer.classList.remove('hidden');
            toggleBtn.classList.add('open');
            toggleBtn.innerHTML = '<i class="fas fa-times"></i> Close Drawer';
        }
    });
}

function setupInputListeners() {
    const inputImgUpload = document.getElementById('input-img-upload');
    const cardImg = document.getElementById('card-img');
    const fileUploadText = document.getElementById('file-upload-text');
    
    const inputBio = document.getElementById('input-bio');
    const bioCounter = document.getElementById('bio-counter');

    const inputMap = {
        'input-nome': { target: 'card-name', defaultValue: 'Full Name' },
        'input-ruolo': { target: 'card-role', defaultValue: 'Professional Role' },
        'input-bio': { target: 'card-bio', defaultValue: 'Short bio or professional description.' },
    };
    
    Object.keys(inputMap).forEach(inputId => {
        const input = document.getElementById(inputId);
        const { target, defaultValue } = inputMap[inputId];
        const targetElement = document.getElementById(target);
        if (input) {
            input.addEventListener('input', (e) => {
                targetElement.textContent = e.target.value || defaultValue;
                
                if (inputId === 'input-bio' && bioCounter) {
                    const len = e.target.value.length;
                    bioCounter.textContent = `(${len}/170)`;
                    if (len >= 170) {
                         bioCounter.style.color = '#dc3545'; 
                         bioCounter.style.fontWeight = 'bold';
                    } else {
                         bioCounter.style.color = '#888';
                         bioCounter.style.fontWeight = 'normal';
                    }
                }
            });
        }
    });

    if (inputImgUpload) {
        inputImgUpload.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    cardImg.src = event.target.result;
                };
                reader.readAsDataURL(file);
                if (fileUploadText) fileUploadText.textContent = file.name;
            } else {
                if (fileUploadText) fileUploadText.textContent = "Choose a file...";
            }
        });
    }
}

function setupThemeSwitcher() {
    const themeButtons = document.querySelectorAll('.theme-button');
    const card = document.getElementById('card-template');

    const allPageThemes = [
        'theme-classic-page', 'theme-dark-page', 'theme-minimal-page', 'theme-cyberpunk-page',
        'theme-retro-page', 'theme-corporate-page', 'theme-glass-page', 'theme-sketch-page',
        'theme-ide-page', 'theme-calm-page', 'theme-neubrutalism-page',
        'theme-ocean-page', 'theme-material-page', 'theme-solarized-page'
    ];

    themeButtons.forEach(button => {
        button.addEventListener('click', () => {
            const theme = button.dataset.theme;
            const pageTheme = button.dataset.page;
            themeButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            
            card.classList.remove(...allThemes);
            card.classList.add(theme);

            document.body.classList.remove(...allPageThemes);
            if (pageTheme) {
                document.body.classList.add(pageTheme);
            }
        });
    });
}
/* ==================================== */
/* 7. GESTIONE DOWNLOAD (ULTRA-ZOOM FINALE) */
/* ==================================== */

function setupDownloadButton() {
    const downloadWithBgBtn = document.getElementById('download-with-bg-btn');
    const downloadCardOnlyBtn = document.getElementById('download-card-only-btn');

    const cardToDownload = document.getElementById('card-template');
    const previewArea = document.querySelector('.preview-area');
    const cardBio = cardToDownload.querySelector('.card-bio');
    
    const processCapture = (mode) => {
        document.body.classList.add('is-downloading');
        
        const originalCardHeight = cardToDownload.style.height;
        const originalBioHeight = cardBio.style.maxHeight;
        const originalBioOverflow = cardBio.style.overflowY;
        const originalPreviewPadding = previewArea.style.padding;
        const originalBg = previewArea.style.background;
        const originalPreviewWidth = previewArea.style.width;
        const originalPreviewHeight = previewArea.style.height;
        const originalCardMargin = cardToDownload.style.margin; 
        const originalPreviewMinHeight = previewArea.style.minHeight;
        const originalPreviewDisplay = previewArea.style.display;
        const originalPreviewJustifyContent = previewArea.style.justifyContent;
        const originalPreviewAlignItems = previewArea.style.alignItems;


        cardToDownload.style.height = 'auto'; 
        cardBio.style.maxHeight = 'none';
        cardBio.style.overflowY = 'visible';
        
        previewArea.style.minHeight = '0'; 
        previewArea.style.margin = '0 auto'; 
        previewArea.style.display = 'flex';
        previewArea.style.justifyContent = 'center';
        
        let targetElement = previewArea;
        let finalBgColor = null; 
        let captureWidth = 0;
        let captureHeight = 0;
        let captureX = 0;
        let captureY = 0;

        if (mode === 'png-transparent') {
            finalBgColor = null; 
            previewArea.style.backgroundColor = ''; 
            previewArea.style.backgroundImage = '';

            cardToDownload.style.margin = 'auto'; 
            previewArea.style.padding = '30px'; 
            previewArea.style.width = 'fit-content';
            previewArea.style.height = 'fit-content';
            previewArea.style.alignItems = 'center';
            
            captureWidth = previewArea.offsetWidth; 
            captureHeight = previewArea.offsetHeight;

        } else if (mode === 'png-bg') {
            const bodyStyle = window.getComputedStyle(document.body);
            previewArea.style.backgroundColor = bodyStyle.backgroundColor;
            previewArea.style.backgroundImage = bodyStyle.backgroundImage;
            finalBgColor = bodyStyle.backgroundColor || 'white'; 

            cardToDownload.style.margin = '0'; 
            previewArea.style.padding = '15px'; 
            previewArea.style.width = 'fit-content';
            previewArea.style.height = 'fit-content';
            previewArea.style.alignItems = 'center';

            captureWidth = targetElement.offsetWidth;
            captureHeight = targetElement.offsetHeight;
            
        } 


        const finalCanvasDimension = Math.max(captureWidth, captureHeight);


        const canvasOptions = {
            useCORS: true,
            scale: 5, 
            x: captureX,
            y: captureY,
            width: captureWidth, 
            height: captureHeight,
            backgroundColor: finalBgColor, 
            logging: false
        };

        setTimeout(() => {
            html2canvas(targetElement, canvasOptions).then(canvas => {
                const link = document.createElement('a');
                
                let linkDownloadName;
                if (mode === 'png-transparent') {
                    linkDownloadName = 'devcard-square-transparent.png';
                } else {
                    linkDownloadName = 'devcard-square-full.png';
                }
                
                link.href = canvas.toDataURL('image/png');
                link.download = linkDownloadName;
                link.click();
                cleanup();
            }).catch(err => {
                console.error('Error:', err);
                cleanup();
            });
        }, 100);

        function cleanup() {
            document.body.classList.remove('is-downloading');
            
            cardToDownload.style.height = originalCardHeight;
            cardToDownload.style.marginTop = originalCardMargin;
            cardToDownload.style.marginBottom = originalCardMargin;
            cardToDownload.style.margin = originalCardMargin;
            cardBio.style.maxHeight = originalBioHeight;
            cardBio.style.overflowY = originalBioOverflow;
            previewArea.style.padding = originalPreviewPadding;
            previewArea.style.background = originalBg;
            previewArea.style.width = originalPreviewWidth;
            previewArea.style.height = originalPreviewHeight;
            previewArea.style.margin = '0 auto';
            previewArea.style.backgroundColor = '';
            previewArea.style.backgroundImage = '';
            previewArea.style.minHeight = originalPreviewMinHeight;
            previewArea.style.display = originalPreviewDisplay;
            previewArea.style.justifyContent = originalPreviewJustifyContent;
            previewArea.style.alignItems = originalPreviewAlignItems;
        }
    };

    const downloadPdfBtn = document.getElementById('download-pdf-btn');
    if (downloadPdfBtn) downloadPdfBtn.addEventListener('click', downloadPDF);
    
    if (downloadWithBgBtn) downloadWithBgBtn.addEventListener('click', () => processCapture('png-bg'));
    if (downloadCardOnlyBtn) downloadCardOnlyBtn.addEventListener('click', () => processCapture('png-transparent'));
}
/* ==================================== */
/* 9. ESECUZIONE PRINCIPALE  */
/* ==================================== */
document.addEventListener('DOMContentLoaded', () => {
    
    setRandomAvatar();

    renderSelectedSkills();
    updateSkillDrawerUI();
    populateSkillsDrawer();
    setupSkillsDrawerTogge();

    const clearSkillsBtn = document.getElementById('clear-skills-btn');
    if (clearSkillsBtn) {
        clearSkillsBtn.addEventListener('click', () => {
            selectedSkills = [];
            renderSelectedSkills();
            updateSkillDrawerUI();
        });
    }
    
    populateSocialsDrawer();
    setupSocialsDrawerToggle();
    renderSocials();
    
    setupInputListeners();
    setupThemeSwitcher();
    setupDownloadButton();
    
    const removePhotoBtn = document.getElementById('remove-photo-btn');
    const inputImgUpload = document.getElementById('input-img-upload');
    const fileUploadText = document.getElementById('file-upload-text');

    if (removePhotoBtn) {
        removePhotoBtn.addEventListener('click', () => {
            if (inputImgUpload) inputImgUpload.value = null; 
            if (fileUploadText) fileUploadText.textContent = "Choose a file...";
            
            setRandomAvatar(); 
        });
    }

    const wm = document.getElementById('card-watermark');
    if(wm) wm.style.display = 'block';
});

/* ==================================== */
/* FUNZIONE PDF: FIX DEFINITIVO (MAILTO ATTIVO) */
/* ==================================== */

function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const originalCard = document.getElementById('card-template');
    
    document.body.classList.add('is-downloading');

    const clone = originalCard.cloneNode(true);
    const ghostContainer = document.createElement('div');
    
    ghostContainer.style.position = 'fixed';
    ghostContainer.style.top = '-10000px'; 
    ghostContainer.style.left = '-10000px';
    
    ghostContainer.style.width = '1100px'; 
    
    ghostContainer.style.padding = '40px';
    ghostContainer.style.backgroundColor = '#ffffff';
    ghostContainer.style.display = 'flex';
    ghostContainer.style.justifyContent = 'center';
    ghostContainer.style.alignItems = 'center';
    ghostContainer.style.zIndex = '-9999';
    
    clone.style.margin = '0';
    clone.style.height = 'auto';
    
    ghostContainer.appendChild(clone);
    document.body.appendChild(ghostContainer);

    html2canvas(ghostContainer, {
        useCORS: true,
        scale: 4, 
        backgroundColor: '#ffffff',
        logging: false
    }).then(canvas => {
        const imgData = canvas.toDataURL('image/jpeg', 1.0);
        
        const contentWidth = ghostContainer.offsetWidth;
        const contentHeight = ghostContainer.offsetHeight;

        const pdf = new jsPDF({
            orientation: contentWidth > contentHeight ? 'l' : 'p',
            unit: 'px',
            format: [contentWidth, contentHeight]
        });
        
        pdf.addImage(imgData, 'JPEG', 0, 0, contentWidth, contentHeight);

        const socialLinks = clone.querySelectorAll('.card-socials a');
        const containerRect = ghostContainer.getBoundingClientRect();

        socialLinks.forEach(link => {
            const href = link.href;
            const linkRect = link.getBoundingClientRect();

            const x = linkRect.left - containerRect.left;
            const y = linkRect.top - containerRect.top;
            const w = linkRect.width;
            const h = linkRect.height;

            if (href) {
                pdf.link(x, y, w, h, { url: href });
            }
        });

        pdf.save('devcard-interactive.pdf');
        
        document.body.removeChild(ghostContainer);
        document.body.classList.remove('is-downloading');

    }).catch(err => {
        console.error('Errore PDF:', err);
        alert('Errore generazione PDF.');
        if (document.body.contains(ghostContainer)) {
            document.body.removeChild(ghostContainer);
        }
        document.body.classList.remove('is-downloading');
    });
}